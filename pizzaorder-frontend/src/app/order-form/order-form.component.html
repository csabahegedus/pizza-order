<form #form="ngForm" (ngSubmit)="submitOrder(form.form)">
  <div>
    <mat-form-field>
      <input
          matInput
          placeholder="Full name"
          [(ngModel)]="order.name"
          name="name"
          required
          #name="ngModel"
          [disabled]="mode === 'edit'"
      />
      <mat-error
          *ngIf="name.invalid && 
          (name.touched || name.dirty) && 
          name.errors['required']"
      >
          Full name is required!
      </mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <input
          matInput
          placeholder="Address"
          value=""
          [(ngModel)]="order.address"
          name="address"
          required
          #address="ngModel"
          pattern="[A-Za-zéáóúűőüö0-9'\.\-\s\,]"
      />
      <mat-error 
          *ngIf="address.invalid && 
          (address.touched || address.dirty) && 
          address.errors['required']"
      >
          Address is required!
      </mat-error>
      <mat-error 
          *ngIf="address.invalid && 
          (address.touched || address.dirty) && 
          address.errors['pattern']"
      >
          Address is not a valid 'City Street Number' format!
      </mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <input
          matInput
          placeholder="Phone"
          value=""
          [(ngModel)]="order.phoneNumber"
          name="phoneNumber"
          required
          #phoneNumber="ngModel"
          pattern="[+]36[2|3|7]0[0-9]*"
      />
      <mat-error 
          *ngIf="phoneNumber.invalid && 
          (phoneNumber.touched || phoneNumber.dirty) && 
          phoneNumber.errors['required']"
      >
          Phone is required!
      </mat-error>
      <mat-error 
          *ngIf="phoneNumber.invalid && 
          (phoneNumber.touched || phoneNumber.dirty) && 
          phoneNumber.errors['pattern']"
      >
          Phone is not a valid '+36901234567' format!
      </mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Products</mat-label>
      <mat-select
          [(ngModel)]="order.products"
          name="products"
          required
          #product="ngModel"
          [disabled]="mode === 'edit'"
      >
        <mat-option *ngFor="let product of productService.products" [value]="product.name">
          {{ product.name }}
        </mat-option>
      </mat-select>
      <mat-error 
          *ngIf="product.invalid && 
          (product.touched || product.dirty) && 
          product.errors['required']"
      >
          Product(s) is required!
      </mat-error>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Status</mat-label>
      <mat-select
          [(ngModel)]="order.status"
          name="status"
          required
          #status="ngModel"
          [disabled]="mode === 'create'"
      >
        <mat-option *ngFor="let status of statuses" [value]="status.value">
          {{ status.label }}
        </mat-option>
      </mat-select>
      <mat-error 
          *ngIf="status.invalid && 
          (status.touched || status.dirty) && 
          status.errors['required']"
      >
          Status is required!
      </mat-error>
    </mat-form-field>
  </div>
  <div>
    <button mat-raised-button color="primary">Submit</button>
  </div>
</form>